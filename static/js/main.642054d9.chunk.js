(this["webpackJsonpsorting-visualiser"]=this["webpackJsonpsorting-visualiser"]||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),n=a(5),r=a.n(n),c=a(8),o=(a(17),a(9)),h=a(2),l=a(3),u=a(10),v=a(6),d=a(1),m=a(11),f=a(7),w=a.n(f),p=function(){function e(){Object(h.a)(this,e),this.worker=new w.a,this.worker.onmessage=this.handleMessage.bind(this),this.resolve={},this.reject={},this.id=0,this.calculate=this.calculate.bind(this)}return Object(l.a)(e,[{key:"calculate",value:function(e,t){var a=this;return new Promise((function(s,i){var n=a.id++;a.resolve[n]=s,a.reject[n]=i,a.worker.postMessage({id:n,algorithm:e,values:t})}))}},{key:"handleMessage",value:function(e){var t=e.data,a=t.id,s=t.moves;this.resolve[a](s)}}]),e}(),x=(a(18),function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).calculate=(new p).calculate,a.canvas=i.a.createRef(),a.resize=a.handleResize.bind(Object(d.a)(a)),a.values=new Array(e.size);for(var s=0;s<e.size;s++)a.values[s]=Math.random();return a.orig=Object(o.a)(a.values),a.calculated=!1,a.calculate("bubble sort",a.values).then((function(e){a.calculated=!0,a.moveIdx=-1,a.setState({moves:e})})),a.prev=a.prev.bind(Object(d.a)(a)),a.next=a.next.bind(Object(d.a)(a)),a.handleResize=a.handleResize.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.current.getContext("2d"),this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationFrame),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(){this.calculated&&this.animate()}},{key:"handleResize",value:function(){var e=this.ctx.canvas.width=2*this.canvas.current.offsetWidth,t=this.ctx.canvas.height=2*this.canvas.current.offsetHeight;e>t?this.ctx.setTransform(e/this.values.length,0,0,-t,0,t):this.ctx.setTransform(0,t/this.values.length,-e,0,e,0),this.drawValues()}},{key:"drawValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#57a3cf",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.values.length;this.ctx.beginPath(),this.ctx.moveTo(t,0);for(var s=t;s<a;s++)this.ctx.lineTo(s,this.values[s]),this.ctx.lineTo(s+1,this.values[s]);this.ctx.lineTo(this.values.length,0),this.ctx.closePath(),this.ctx.fillStyle=e,this.ctx.fill()}},{key:"drawValue",value:function(e,t){this.ctx.fillStyle=e,this.ctx.fillRect(t,0,1,this.values[t])}},{key:"clearScreen",value:function(){this.ctx.clearRect(0,0,this.values.length,1)}},{key:"drawMove",value:function(){if(!(this.moveIdx<0||this.moveIdx>=this.state.moves.length)){var e=this.state.moves[this.moveIdx];switch(e.type){case"swap":this.drawValue("cyan",e.i),this.drawValue("cyan",e.j);break;case"compare":this.drawValue("green",e.i),this.drawValue("red",e.j)}}}},{key:"redraw",value:function(){this.clearScreen(),this.drawValues(),this.drawMove()}},{key:"next",value:function(){if(this.moveIdx++>=this.state.moves.length-1)return!1;var e=this.state.moves[this.moveIdx];switch(e.type){case"swap":var t=this.values[e.i];this.values[e.i]=this.values[e.j],this.values[e.j]=t}return!0}},{key:"prev",value:function(){if(this.moveIdx<0)return!1;if(this.moveIdx>=this.state.moves.length)return this.moveIdx--,!0;var e=this.state.moves[this.moveIdx--];switch(e.type){case"swap":var t=this.values[e.i];this.values[e.i]=this.values[e.j],this.values[e.j]=t}return!0}},{key:"animate",value:function(){var e=this;this.props.animate||window.cancelAnimationFrame(this.animationFrame);for(var t=this.props.reverse?this.prev:this.next,a=0;a<this.props.speed;a++)t();t()&&(this.animationFrame=window.requestAnimationFrame((function(){return e.animate()}))),this.redraw()}},{key:"reset",value:function(){for(var e=0;e<this.values.length;e++)this.values[e]=this.orig[e];this.moveIdx=-1}},{key:"render",value:function(){return i.a.createElement("canvas",{ref:this.canvas,className:"Visualiser"},"Your browser does not support canvases")}}]),t}(i.a.Component));x.defaultProps={size:100,speed:1,move:-1},r.a.render(i.a.createElement((function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];return i.a.createElement("div",{className:"App",onClick:function(){return n(!a)}},i.a.createElement(x,{animate:a,speed:200}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){e.exports=function(){return new Worker(a.p+"6cf7e4a231f815cc49d3.worker.js")}}},[[12,1,2]]]);
//# sourceMappingURL=main.642054d9.chunk.js.map