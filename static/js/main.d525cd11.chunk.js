(this["webpackJsonpsorting-visualiser"]=this["webpackJsonpsorting-visualiser"]||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a,r,s=n(0),i=n.n(s),c=n(16),o=n.n(c),u=n(2),l=n(4),f=n(17);!function(e){e.SWAP="SWAP",e.COMPARE="COMPARE",e.MALLOC="MALLOC",e.MEMCPY="MEMCPY",e.FREE="FREE",e.NTH_BIT_SET="NTH_BIT_SET"}(a||(a={})),function(e){e.FORWARD="FORWARD",e.BACKWARD="BACKWARD"}(r||(r={}));n(24);var d,h=function(e){var t=e.values,n=e.moveRef,r=e.untracker,c=Object(s.useCallback)((function(e){e.canvas.width=e.canvas.height=t.length,e.setTransform(1,0,0,-1,0,t.length),e.fillStyle="rgb(87,163,207)";var s=Object(l.a)(t);t.forEach((function(t,n){e.fillRect(n,0,1,t)}));var i;return function c(){i=requestAnimationFrame(c);for(var o=0;o<t.length;o++)s[o]!==t[o]&&(e.clearRect(o,0,1,t.length),e.fillRect(o,0,1,t[o]),s[o]=t[o]);null===r||void 0===r||r.forEachInExtra((function(t,n,a){e.save(),e.globalAlpha=.2,e.fillStyle="purple",e.fillRect(n,0,1,a),s[n]=NaN,e.restore()})),function(){var r=n.current;if(r)switch(r.type){case a.SWAP:var i=r.i,c=r.j;e.save(),e.fillStyle="cyan",e.fillRect(i.index,0,1,c.value),e.fillRect(c.index,0,1,i.value),e.restore(),s[i.index]=s[c.index]=NaN;break;case a.COMPARE:var o=r.i,u=r.j,l=r.result,f=["lime","orange","red"];e.save(),e.fillStyle=f[1+l],e.fillRect(o.index,0,1,o.value),e.fillStyle=f[1-l],e.fillRect(u.index,0,1,u.value),e.restore(),s[o.index]=s[u.index]=NaN;break;case a.MEMCPY:var d=r.from,h=r.to,v=r.value;e.save(),e.fillStyle="gold",e.fillRect(d.index,0,1,v),e.fillRect(h.index,0,1,v),e.restore(),s[d.index]=s[h.index]=NaN;break;case a.NTH_BIT_SET:var b=r.index.index,m=r.result;e.save(),e.fillStyle="black",e.fillRect(b+.1,m?Math.floor(t.length/2):0,.8,Math.floor(t.length/2)),e.restore(),s[b]=NaN}}()}(),function(){cancelAnimationFrame(i)}}),[t,n,r]),o=Object(f.a)(c);return i.a.createElement("canvas",{className:"Display",ref:o})},v=n(1),b=n(8),m=n(3),p=(n(25),function(e){var t=e.name,n=e.handler,a=e.disabled,r=e.keyStr,c=e.keyCode,o=e.children,u=e.className,l=Object(b.a)(e,["name","handler","disabled","keyStr","keyCode","children","className"]),f=t.replace(/^(.)/,(function(e,t){return t.toLowerCase()})).replace(/ (.)/g,(function(e,t){return t.toUpperCase()})),d=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(void 0!==r||void 0!==c){var e=function(e){var t;e.key!==r&&e.keyCode!==c||(null===(t=d.current)||void 0===t||t.click()," "===e.key&&e.preventDefault())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[d,r,c]),i.a.createElement("button",Object.assign({ref:d,className:"Button ".concat(u," ").concat(f),title:t,onClick:n,disabled:a},l),o)}),O=function(e){var t=e.Icon,n=Object(b.a)(e,["Icon"]);return i.a.createElement(p,Object.assign({},n,{className:"".concat(n.className," Icon")}),i.a.createElement(t,{className:"icon"}))},j=p,k=(n(26),function(e){var t=e.reverse,n=t.status,a=Object(b.a)(t,["status"]),r=e.restart,c=e.speedDown,o=e.stepBack,u=e.play,l=u.status,f=Object(b.a)(u,["status"]),d=e.stepForward,h=e.speedUp,p=e.stats,k=e.sizeUp,E=e.sizeDown,y=e.unsort,S=e.sort,R=Object(s.useState)(!1),g=Object(v.a)(R,2),C=g[0],A=g[1],w=Object(s.useState)(!1),x=Object(v.a)(w,2),M=x[0],N=x[1];return i.a.createElement("div",{className:"Menu"},i.a.createElement(O,Object.assign({name:"restart",Icon:m.i,style:C?{transition:"transform 300ms",transform:"rotate(".concat(360,"deg)")}:{},onTransitionEnd:function(){return A(!1)}},r,{handler:function(){r.handler(),A(!0)}})),i.a.createElement(O,Object.assign({name:"speed down",Icon:m.a},c)),i.a.createElement(O,Object.assign({name:"step back",Icon:m.j},o)),i.a.createElement("div",{className:"playPauseWithReverse"},i.a.createElement(O,Object.assign({name:"play",Icon:l?m.f:m.g,style:{transition:"transform 100ms",transform:"rotate(".concat(n?180:0,"deg)")}},f)),i.a.createElement(O,Object.assign({name:"reverse",Icon:m.l},a))),i.a.createElement(O,Object.assign({name:"step forward",Icon:m.k},d)),i.a.createElement(O,Object.assign({name:"speed up",Icon:m.c},h)),i.a.createElement("div",{className:"extra ".concat(M?"show":"hide")},i.a.createElement(O,{name:"extra options",Icon:m.b,keyCode:27,handler:function(){return N(!M)}}),i.a.createElement("div",{className:"buttons"},i.a.createElement("div",{className:"algorithms"},i.a.createElement("div",{className:"unsort"},y.list.map((function(e){return i.a.createElement(j,{key:e,handler:function(){y.handler(e)},name:e,disabled:y.disabled},e.replace(/([A-Z])/g,(function(e,t){return" ".concat(t)})).replace(/^(.)/,(function(e,t){return t.toUpperCase()})))}))),i.a.createElement("div",{className:"sort"},S.list.map((function(e){return i.a.createElement(j,{key:e,handler:function(){N(!1),S.handler(e)},name:e,className:S.current===e?"active":""},e.replace(/([A-Z])/g,(function(e,t){return" ".concat(t)})).replace(/^(.)/,(function(e,t){return t.toUpperCase()})))})))),i.a.createElement(O,Object.assign({name:"show stats",Icon:m.d},p)),i.a.createElement(O,Object.assign({name:"size up",Icon:m.h},k)),i.a.createElement(O,Object.assign({name:"size down",Icon:m.e},E)))))}),E=function(e){return Object(s.useMemo)((function(){for(var t=[],n=1;n<=e;n++)t.push(n);return t}),[e])},y=n(5),S=n.n(y),R=n(11),g=n(14),C=n(7),A=n(13),w=function(){function e(){Object(C.a)(this,e),this.comparisons=0,this.reads=0,this.writes=0}return Object(A.a)(e,[{key:"modifyBy",value:function(e,t){switch(e.type){case a.COMPARE:this.reads+=2*t,this.comparisons+=1*t;break;case a.SWAP:this.reads+=2*t,this.writes+=2*t;break;case a.MALLOC:break;case a.MEMCPY:this.reads+=1*t,this.writes+=1*t;break;case a.FREE:break;case a.NTH_BIT_SET:this.reads+=1*t}}},{key:"add",value:function(e){this.modifyBy(e,1)}},{key:"subtract",value:function(e){this.modifyBy(e,-1)}}]),e}(),x=function(){function e(t,n){Object(C.a)(this,e),this.original=void 0,this.buffers=void 0,this.bufferIds=void 0,this.moves=void 0,this.currentMove=void 0,this.statistics=void 0,this.moves=t,this.buffers={0:n},this.bufferIds=new Set,this.original=Object(l.a)(n),this.currentMove=0,this.statistics=new w,this.hasNext=this.hasNext.bind(this),this.hasPrevious=this.hasPrevious.bind(this),this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.reset=this.reset.bind(this)}return Object(A.a)(e,[{key:"hasNext",value:function(){return this.currentMove<this.moves.length}},{key:"hasPrevious",value:function(){return this.currentMove>0}},{key:"next",value:function(){if(this.hasNext()){var e=this.moves[this.currentMove++];switch(this.statistics.add(e),e.type){case a.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=n.value,this.buffers[n.buffer][n.index]=t.value;break;case a.MALLOC:var r=e.buffer;this.bufferIds.add(r),this.buffers[r]=[];break;case a.MEMCPY:var s=e.from,i=e.to,c=this.buffers[s.buffer][s.index];this.buffers[i.buffer][i.index]=c;break;case a.FREE:var o=e.buffer;this.bufferIds.delete(o)}return e}}},{key:"previous",value:function(){if(this.hasPrevious()){var e=this.moves[--this.currentMove];switch(this.statistics.subtract(e),e.type){case a.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=t.value,this.buffers[n.buffer][n.index]=n.value;break;case a.MALLOC:var r=e.buffer;this.bufferIds.delete(r);break;case a.MEMCPY:var s=e.to,i=s.buffer,c=s.index,o=e.original;this.buffers[i][c]=o;break;case a.FREE:var u=e.buffer;this.bufferIds.add(u)}return e}}},{key:"reset",value:function(){var e=this;this.bufferIds.forEach((function(t){delete e.buffers[t]}));for(var t=0;t<this.original.length;t++)this.buffers[0][t]=this.original[t];this.currentMove=0}},{key:"step",value:function(e){return e===r.FORWARD?this.next():this.previous()}},{key:"hasStep",value:function(e){return e===r.FORWARD?this.hasNext():this.hasPrevious()}},{key:"animateStepsPerFrame",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.onCompletion,s=a.moveRef,i=function(e){for(var a=0;a<e;a++)n.step(t)},c=s?function(){i(e-1),s.current=n.step(t)}:function(){return i(e)},o=function(){var e;return function a(){c(),n.hasStep(t)?e=requestAnimationFrame(a):r&&r()}(),function(){cancelAnimationFrame(e)}},u=function(){var a=setInterval((function(){c(),n.hasStep(t)||(clearInterval(a),r&&r())}),1/(.06*e));return function(){clearInterval(a)}};return e>=1?o():u()}},{key:"animateUntilCompletion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t===r.FORWARD?this.moves.length-this.currentMove:this.currentMove,s=a/(.06*e);return this.animateStepsPerFrame(s,t,n)}},{key:"forEachInExtra",value:function(e){var t=this;this.bufferIds.forEach((function(n){t.buffers[n].forEach((function(t,a){return e(n,a,t)}))}))}}]),e}(),M=n(18),N=Object(R.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,31));case 2:t=e.sent.default,a=new t,d=M.a(a);case 5:case"end":return e.stop()}}),e)})))(),I=function(){var e=Object(R.a)(S.a.mark((function e(t,n,a){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N;case 2:return console.log("Main Thread: Deploying ".concat(t,": ").concat(n)),e.next=5,d(t,n,a);case 5:return r=e.sent,console.log("Main Thread: Received ".concat(t," data: ").concat(n)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(e){var t=Object(s.useState)(Object(g.a)(e)),n=Object(u.a)(t,2),a=n[0],i=n[1];Object(s.useEffect)((function(){return i(Object(g.a)(e))}),[e]);var c=Object(s.useCallback)(function(){var t=Object(R.a)(S.a.mark((function t(n,a,s){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("nothing"!==n){t.next=3;break}return i(Object(g.a)(e)),t.abrupt("return");case 3:return a&&s&&a(),t.abrupt("return",I("unsort",n,e).then((function(t){var n=Object(u.a)(t,2),a=n[0],c=n[1];i(c),new x(a,e).animateUntilCompletion(500,r.FORWARD,{onCompletion:function(){s&&s()}})})));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),[e]),o=Object(s.useState)("heapSort"),l=Object(u.a)(o,2),f=l[0],d=l[1],h=Object(s.useState)(),v=Object(u.a)(h,2),b=v[0],m=v[1];return Object(s.useEffect)((function(){var t=!1;return I("sort",f,a).then((function(t){var n=Object(u.a)(t,1)[0];return new x(n,e)})).then((function(e){return!t&&m(e)})).catch(console.error),function(){t=!0}}),[f,a,e]),{unsortWith:c,sort:b,setSort:Object(s.useCallback)((function(e){d(e)}),[]),sortString:f}};var D=function(e,t){var n=Object(s.useState)(!0),a=Object(v.a)(n,2),r=a[0],i=a[1],c=Object(s.useCallback)((function(n){i(n===e||n!==t&&function(e){return!e})}),[e,t]);return[r?e:t,c]},F=function(){var e=Object(s.useState)(0),t=Object(v.a)(e,2),n=t[0],a=t[1],r=n>0,i=Object(s.useCallback)((function(){a((function(e){return e+1}))}),[]),c=Object(s.useCallback)((function(){a((function(e){return Math.max(0,e-1)}))}),[]);return Object(s.useMemo)((function(){return{blocking:r,block:i,unblock:c}}),[r,i,c])},P=["binaryInsertionSort","bubbleSort","heapSort","mergeSort","quickSort","radixSortLsb","radixSortMsb","shellSort","timsort"],B=["cut","hinduShuffle","overhandShuffle","perfectRiffleShuffle","randomise","reverse","riffleShuffle"],T=(n(28),n(29),function(e){var t=e.stats,n=void 0===t?{comparisons:0,reads:0,writes:0}:t,a=e.display,r=Object(s.useState)(n.comparisons),c=Object(v.a)(r,2),o=c[0],u=c[1],l=Object(s.useState)(n.reads),f=Object(v.a)(l,2),d=f[0],h=f[1],b=Object(s.useState)(n.writes),m=Object(v.a)(b,2),p=m[0],O=m[1];return Object(s.useEffect)((function(){var e=setInterval((function(){u(n.comparisons),h(n.reads),O(n.writes)}),50);return function(){return clearInterval(e)}}),[n]),i.a.createElement("div",{className:"Stats ".concat(a?"show":"hide")},i.a.createElement("div",{className:"stat comparisons"},"Comparisons: ",o),i.a.createElement("div",{className:"stat reads"},"Reads: ",d),i.a.createElement("div",{className:"stat writes"},"Writes: ",p))}),L=function(){var e=D(r.FORWARD,r.BACKWARD),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),o=Object(u.a)(c,2),l=o[0],f=o[1],d=Object(s.useState)(!1),v=Object(u.a)(d,2),b=v[0],m=v[1],p=F(),O=p.blocking,j=p.block,y=p.unblock,S=Object(s.useState)(-4),R=Object(u.a)(S,2),g=R[0],C=R[1],A=Object(s.useState)(12),w=Object(u.a)(A,2),x=w[0],M=w[1],N=E(Math.floor(Math.pow(1.5,x))),I=W(N),L=I.unsortWith,U=I.sort,K=I.setSort,_=I.sortString,z=Object(s.useRef)();return Object(s.useEffect)((function(){z.current=void 0}),[z,O]),Object(s.useEffect)((function(){if(l)return null===U||void 0===U?void 0:U.animateStepsPerFrame(Math.pow(1.3,g),n,{onCompletion:function(){f(!1),a(),z.current=void 0},moveRef:z})}),[l,U,g,n,a,z]),Object(s.useEffect)((function(){var e,t=null,n=!1;l&&(null===(e=navigator.wakeLock)||void 0===e||e.request("screen").then((function(e){n?e.release():(t=e,console.log("obtained screen lock."))})));return function(){n=!0,t&&(t.release(),console.log("released screen lock."))}}),[l]),i.a.createElement("div",{className:"App"},i.a.createElement(k,{restart:{disabled:O||!U,keyStr:"r",handler:function(){a(r.FORWARD),f(!1),j(),null===U||void 0===U||U.animateUntilCompletion(1e3,r.BACKWARD,{onCompletion:function(){return y()}})}},speedDown:{disabled:O||!U,keyCode:l?37:void 0,handler:function(){return C(Math.max(-10,g-1))}},stepBack:{disabled:O||!U,keyCode:l?void 0:37,handler:function(){z.current=null===U||void 0===U?void 0:U.step(r.BACKWARD)}},play:{disabled:O||!U,handler:function(){return f(!l)},keyStr:" ",status:l},reverse:{disabled:O||!U,keyStr:"`",handler:function(){var e=n===r.BACKWARD?r.FORWARD:r.BACKWARD;(null===U||void 0===U?void 0:U.hasStep(e))&&a()},status:n===r.BACKWARD},stepForward:{disabled:O||!U,keyCode:l?void 0:39,handler:function(){z.current=null===U||void 0===U?void 0:U.step(r.FORWARD)}},speedUp:{disabled:O||!U,keyCode:l?39:void 0,handler:function(){return C(Math.min(10,g+1))}},stats:{keyStr:"s",handler:function(){return m((function(e){return!e}))}},sizeUp:{keyCode:38,handler:function(){return M(Math.min(20,x+1))}},sizeDown:{keyCode:40,handler:function(){return M(Math.max(3,x-1))}},unsort:{disabled:O,list:B,handler:function(e){B.includes(e)&&(f(!1),a(r.FORWARD),L(e,j,y))}},sort:{current:_,list:P,handler:function(e){e!==_&&(z.current=void 0,L("nothing").then((function(){return K(e)})))}}}),i.a.createElement(T,{stats:null===U||void 0===U?void 0:U.statistics,display:b}),i.a.createElement(h,{values:N,moveRef:z,untracker:U}))};o.a.render(i.a.createElement(L,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.d525cd11.chunk.js.map