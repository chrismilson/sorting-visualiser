(this["webpackJsonpsorting-visualiser"]=this["webpackJsonpsorting-visualiser"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,a,i=n(0),s=n.n(i),c=n(12),o=n.n(c),u=n(1),l=n(3),f=n(13);!function(e){e[e.SWAP=1]="SWAP",e[e.COMPARE=2]="COMPARE",e[e.MALLOC=3]="MALLOC",e[e.MEMCPY=4]="MEMCPY",e[e.FREE=5]="FREE",e[e.NTH_BIT_SET=6]="NTH_BIT_SET"}(r||(r={})),function(e){e.FORWARD="FORWARD",e.BACKWARD="BACKWARD"}(a||(a={}));n(20);var d,v=function(e){var t=e.values,n=e.moveRef,a=e.untracker,c=Object(i.useCallback)((function(e){e.canvas.width=e.canvas.height=t.length,e.setTransform(1,0,0,-1,0,t.length),e.fillStyle="rgb(87,163,207)";var i=Object(l.a)(t);t.forEach((function(t,n){e.fillRect(n,0,1,t)}));var s;return function c(){s=requestAnimationFrame(c);for(var o=0;o<t.length;o++)i[o]!==t[o]&&(e.clearRect(o,0,1,t.length),e.fillRect(o,0,1,t[o]),i[o]=t[o]);null===a||void 0===a||a.forEachInExtra((function(t,n,r){e.save(),e.globalAlpha=.2,e.fillStyle="purple",e.fillRect(n,0,1,r),i[n]=NaN,e.restore()})),function(){var a=n.current;if(a)switch(a.type){case r.SWAP:var s=a.i,c=a.j;e.save(),e.fillStyle="cyan",e.fillRect(s.index,0,1,c.value),e.fillRect(c.index,0,1,s.value),e.restore(),i[s.index]=i[c.index]=NaN;break;case r.COMPARE:var o=a.i,u=a.j,l=a.result,f=["lime","orange","red"];e.save(),e.fillStyle=f[1+l],e.fillRect(o.index,0,1,o.value),e.fillStyle=f[1-l],e.fillRect(u.index,0,1,u.value),e.restore(),i[o.index]=i[u.index]=NaN;break;case r.MEMCPY:var d=a.from,v=a.to,h=a.value;e.save(),e.fillStyle="gold",e.fillRect(d.index,0,1,h),e.fillRect(v.index,0,1,h),e.restore(),i[d.index]=i[v.index]=NaN;break;case r.NTH_BIT_SET:var b=a.index.index,m=a.result;e.save(),e.fillStyle="black",e.fillRect(b+.1,m?Math.floor(t.length/2):0,.8,Math.floor(t.length/2)),e.restore(),i[b]=NaN}}()}(),function(){cancelAnimationFrame(s)}}),[t,n,a]),o=Object(f.a)(c);return s.a.createElement("canvas",{className:"Display",ref:o})},h=n(8),b=n(2),m=(n(21),function(e){var t=e.name,n=e.handler,r=e.disabled,a=e.keyStr,c=e.keyCode,o=e.children,u=e.className,l=Object(h.a)(e,["name","handler","disabled","keyStr","keyCode","children","className"]),f=t.replace(/^(.)/,(function(e,t){return t.toLowerCase()})).replace(/ (.)/g,(function(e,t){return t.toUpperCase()})),d=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(void 0!==a||void 0!==c){var e=function(e){var t;e.key!==a&&e.keyCode!==c||(null===(t=d.current)||void 0===t||t.click()," "===e.key&&e.preventDefault())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[d,a,c]),s.a.createElement("button",Object.assign({ref:d,className:"Button ".concat(u," ").concat(f),title:t,onClick:n,disabled:r},l),o)}),p=function(e){var t=e.Icon,n=Object(h.a)(e,["Icon"]);return s.a.createElement(m,Object.assign({},n,{className:"".concat(n.className," Icon")}),s.a.createElement(t,{className:"icon"}))},O=m,j=(n(22),function(e){var t=e.reverse,n=t.status,r=Object(h.a)(t,["status"]),a=e.restart,c=e.speedDown,o=e.stepBack,l=e.play,f=l.status,d=Object(h.a)(l,["status"]),v=e.stepForward,m=e.speedUp,j=e.stats,E=e.sizeUp,k=e.sizeDown,g=e.unsort,y=e.sort,S=Object(i.useState)(!1),R=Object(u.a)(S,2),C=R[0],A=R[1],M=Object(i.useState)(!1),x=Object(u.a)(M,2),w=x[0],N=x[1];return s.a.createElement("div",{className:"Menu"},s.a.createElement(p,Object.assign({name:"restart",Icon:b.i,style:C?{transition:"transform 300ms",transform:"rotate(".concat(360,"deg)")}:{},onTransitionEnd:function(){return A(!1)}},a,{handler:function(){a.handler(),A(!0)}})),s.a.createElement(p,Object.assign({name:"speed down",Icon:b.a},c)),s.a.createElement(p,Object.assign({name:"step back",Icon:b.j},o)),s.a.createElement("div",{className:"playPauseWithReverse"},s.a.createElement(p,Object.assign({name:"play",Icon:f?b.f:b.g,style:{transition:"transform 100ms",transform:"rotate(".concat(n?180:0,"deg)")}},d)),s.a.createElement(p,Object.assign({name:"reverse",Icon:b.l},r))),s.a.createElement(p,Object.assign({name:"step forward",Icon:b.k},v)),s.a.createElement(p,Object.assign({name:"speed up",Icon:b.c},m)),s.a.createElement("div",{className:"extra ".concat(w?"show":"hide")},s.a.createElement(p,{name:"extra options",Icon:b.b,keyCode:27,handler:function(){return N(!w)}}),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"algorithms"},s.a.createElement("div",{className:"unsort"},g.list.map((function(e){return s.a.createElement(O,{key:e,handler:function(){g.handler(e)},name:e,disabled:g.disabled},e.replace(/([A-Z])/g,(function(e,t){return" ".concat(t)})).replace(/^(.)/,(function(e,t){return t.toUpperCase()})))}))),s.a.createElement("div",{className:"sort"},y.list.map((function(e){return s.a.createElement(O,{key:e,handler:function(){N(!1),y.handler(e)},name:e,className:y.current===e?"active":""},e.replace(/([A-Z])/g,(function(e,t){return" ".concat(t)})).replace(/^(.)/,(function(e,t){return t.toUpperCase()})))})))),s.a.createElement(p,Object.assign({name:"show stats",Icon:b.d},j)),s.a.createElement(p,Object.assign({name:"size up",Icon:b.h},E)),s.a.createElement(p,Object.assign({name:"size down",Icon:b.e},k)))))}),E=function(e){return Object(i.useMemo)((function(){for(var t=[],n=1;n<=e;n++)t.push(n);return t}),[e])},k=n(5),g=n.n(k),y=n(10),S=n(14),R=n(4),C=n(7),A=function(){function e(){Object(R.a)(this,e),this.comparisons=0,this.reads=0,this.writes=0}return Object(C.a)(e,[{key:"modifyBy",value:function(e,t){switch(e.type){case r.COMPARE:this.reads+=2*t,this.comparisons+=1*t;break;case r.SWAP:this.reads+=2*t,this.writes+=2*t;break;case r.MALLOC:break;case r.MEMCPY:this.reads+=1*t,this.writes+=1*t;break;case r.FREE:break;case r.NTH_BIT_SET:this.reads+=1*t}}},{key:"add",value:function(e){this.modifyBy(e,1)}},{key:"subtract",value:function(e){this.modifyBy(e,-1)}}]),e}(),M=function(e,t){var n=26*t,a=new DataView(e);switch(a.getUint8(n)){case r.COMPARE:return{type:r.COMPARE,i:{buffer:a.getUint32(n+1),index:a.getUint32(n+5),value:a.getUint32(n+9)},j:{buffer:a.getUint32(n+13),index:a.getUint32(n+17),value:a.getUint32(n+21)},result:a.getInt8(n+25)};case r.SWAP:return{type:r.SWAP,i:{buffer:a.getUint32(n+1),index:a.getUint32(n+5),value:a.getUint32(n+9)},j:{buffer:a.getUint32(n+13),index:a.getUint32(n+17),value:a.getUint32(n+21)}};case r.MALLOC:return{type:r.MALLOC,buffer:a.getUint32(n+1),size:a.getUint32(n+5)};case r.MEMCPY:return{type:r.MEMCPY,from:{buffer:a.getUint32(n+1),index:a.getUint32(n+5)},to:{buffer:a.getUint32(n+9),index:a.getUint32(n+13)},value:a.getUint32(n+17),original:a.getUint32(n+21)};case r.FREE:return{type:r.FREE,buffer:a.getUint32(n+1)};case r.NTH_BIT_SET:return{type:r.NTH_BIT_SET,index:{buffer:a.getUint32(n+1),index:a.getUint32(n+5)},result:0!==a.getUint8(n+9)}}},x=function(){function e(t,n,r){Object(R.a)(this,e),this.original=void 0,this.buffers=void 0,this.bufferIds=void 0,this.moves=void 0,this.numMoves=void 0,this.currentMove=void 0,this.statistics=void 0,this.moves=t,this.numMoves=n,this.buffers={0:r},this.bufferIds=new Set,this.original=Object(l.a)(r),this.currentMove=0,this.statistics=new A,this.hasNext=this.hasNext.bind(this),this.hasPrevious=this.hasPrevious.bind(this),this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.reset=this.reset.bind(this)}return Object(C.a)(e,[{key:"hasNext",value:function(){return this.currentMove<this.numMoves}},{key:"hasPrevious",value:function(){return this.currentMove>0}},{key:"next",value:function(){if(this.hasNext()){var e=M(this.moves,this.currentMove++);switch(this.statistics.add(e),e.type){case r.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=n.value,this.buffers[n.buffer][n.index]=t.value;break;case r.MALLOC:var a=e.buffer;this.bufferIds.add(a),this.buffers[a]=[];break;case r.MEMCPY:var i=e.from,s=e.to,c=this.buffers[i.buffer][i.index];this.buffers[s.buffer][s.index]=c;break;case r.FREE:var o=e.buffer;this.bufferIds.delete(o)}return e}}},{key:"previous",value:function(){if(this.hasPrevious()){var e=M(this.moves,--this.currentMove);switch(this.statistics.subtract(e),e.type){case r.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=t.value,this.buffers[n.buffer][n.index]=n.value;break;case r.MALLOC:var a=e.buffer;this.bufferIds.delete(a);break;case r.MEMCPY:var i=e.to,s=i.buffer,c=i.index,o=e.original;this.buffers[s][c]=o;break;case r.FREE:var u=e.buffer;this.bufferIds.add(u)}return e}}},{key:"reset",value:function(){var e=this;this.bufferIds.forEach((function(t){delete e.buffers[t]}));for(var t=0;t<this.original.length;t++)this.buffers[0][t]=this.original[t];this.currentMove=0}},{key:"step",value:function(e){return e===a.FORWARD?this.next():this.previous()}},{key:"hasStep",value:function(e){return e===a.FORWARD?this.hasNext():this.hasPrevious()}},{key:"animateStepsPerFrame",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onCompletion,i=r.moveRef,s=function(e){for(var r=0;r<e;r++)n.step(t)},c=i?function(){s(e-1),i.current=n.step(t)}:function(){return s(e)},o=function(){var e;return function r(){c(),n.hasStep(t)?e=requestAnimationFrame(r):a&&a()}(),function(){cancelAnimationFrame(e)}},u=function(){var r=setInterval((function(){c(),n.hasStep(t)||(clearInterval(r),a&&a())}),1/(.06*e));return function(){clearInterval(r)}};return e>=1?o():u()}},{key:"animateUntilCompletion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t===a.FORWARD?this.numMoves-this.currentMove:this.currentMove,i=r/(.06*e);return this.animateStepsPerFrame(i,t,n)}},{key:"forEachInExtra",value:function(e){var t=this;this.bufferIds.forEach((function(n){t.buffers[n].forEach((function(t,r){return e(n,r,t)}))}))}}]),e}(),w=Object(y.a)(g.a.mark((function e(){var t,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,27));case 2:t=e.sent.default,r=new t,d=S.a(r);case 5:case"end":return e.stop()}}),e)})))(),N=function(){var e=Object(y.a)(g.a.mark((function e(t,n,r,a){var i,s,c,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w;case 2:return console.log("Main Thread: Deploying ".concat(t,": ").concat(n)),e.next=5,d(t,n,r);case 5:return i=e.sent,s=Object(u.a)(i,3),c=s[0],o=s[1],l=s[2],console.log("Main Thread: Received ".concat(t," data: ").concat(n)),e.abrupt("return",[new x(c,o,a),l]);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),I=function(e){var t=Object(i.useState)(Object(l.a)(e)),n=Object(u.a)(t,2),r=n[0],s=n[1];Object(i.useEffect)((function(){return s(Object(l.a)(e))}),[e]);var c=Object(i.useCallback)(function(){var t=Object(y.a)(g.a.mark((function t(n,r,i){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("nothing"!==n){t.next=3;break}return s(Object(l.a)(e)),t.abrupt("return");case 3:return r&&i&&r(),t.abrupt("return",N("unsort",n,e,e).then((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];s(r),n.animateUntilCompletion(500,a.FORWARD,{onCompletion:function(){i&&i()}})})));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),[e]),o=Object(i.useState)("heapSort"),f=Object(u.a)(o,2),d=f[0],v=f[1],h=Object(i.useState)(),b=Object(u.a)(h,2),m=b[0],p=b[1];return Object(i.useEffect)((function(){var t=!1;return N("sort",d,r,e).then((function(e){var n=Object(u.a)(e,1)[0];return!t&&p(n)})).catch(console.error),function(){t=!0}}),[d,r,e]),{unsortWith:c,sort:m,setSort:Object(i.useCallback)((function(e){v(e)}),[]),sortString:d}};var U=function(e,t){var n=Object(i.useState)(!0),r=Object(u.a)(n,2),a=r[0],s=r[1],c=Object(i.useCallback)((function(n){s(n===e||n!==t&&function(e){return!e})}),[e,t]);return[a?e:t,c]},P=function(){var e=Object(i.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1],a=n>0,s=Object(i.useCallback)((function(){r((function(e){return e+1}))}),[]),c=Object(i.useCallback)((function(){r((function(e){return Math.max(0,e-1)}))}),[]);return Object(i.useMemo)((function(){return{blocking:a,block:s,unblock:c}}),[a,s,c])},W=["binaryInsertionSort","bubbleSort","heapSort","introsort","mergeSort","quickSort","radixSortLsb","radixSortMsb","shellSort","timsort"],D=["cut","hinduShuffle","overhandShuffle","perfectRiffleShuffle","randomise","reverse","riffleShuffle"],F=(n(24),n(25),function(e){var t=e.stats,n=void 0===t?{comparisons:0,reads:0,writes:0}:t,r=e.display,a=Object(i.useState)(n.comparisons),c=Object(u.a)(a,2),o=c[0],l=c[1],f=Object(i.useState)(n.reads),d=Object(u.a)(f,2),v=d[0],h=d[1],b=Object(i.useState)(n.writes),m=Object(u.a)(b,2),p=m[0],O=m[1];return Object(i.useEffect)((function(){var e=setInterval((function(){l(n.comparisons),h(n.reads),O(n.writes)}),50);return function(){return clearInterval(e)}}),[n]),s.a.createElement("div",{className:"Stats ".concat(r?"show":"hide")},s.a.createElement("div",{className:"stat comparisons"},"Comparisons: ",o),s.a.createElement("div",{className:"stat reads"},"Reads: ",v),s.a.createElement("div",{className:"stat writes"},"Writes: ",p))}),B=function(){var e=U(a.FORWARD,a.BACKWARD),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(!1),o=Object(u.a)(c,2),l=o[0],f=o[1],d=Object(i.useState)(!1),h=Object(u.a)(d,2),b=h[0],m=h[1],p=P(),O=p.blocking,k=p.block,g=p.unblock,y=Object(i.useState)(-4),S=Object(u.a)(y,2),R=S[0],C=S[1],A=Object(i.useState)(12),M=Object(u.a)(A,2),x=M[0],w=M[1],N=E(Math.floor(Math.pow(1.5,x))),B=I(N),T=B.unsortWith,L=B.sort,_=B.setSort,K=B.sortString,Y=Object(i.useRef)();Object(i.useEffect)((function(){Y.current=void 0}),[Y,O]),Object(i.useEffect)((function(){if(l)return null===L||void 0===L?void 0:L.animateStepsPerFrame(Math.pow(1.3,R),n,{onCompletion:function(){f(!1),r(),Y.current=void 0},moveRef:Y})}),[l,L,R,n,r,Y]),Object(i.useEffect)((function(){var e,t=null,n=!1;l&&(null===(e=navigator.wakeLock)||void 0===e||e.request("screen").then((function(e){n?e.release():(t=e,console.log("obtained screen lock."))})));return function(){n=!0,t&&(t.release(),console.log("released screen lock."))}}),[l]);var z=Object(i.useCallback)((function(e){return(null===L||void 0===L?void 0:L.hasStep(a.BACKWARD))?(r(a.FORWARD),f(!1),k(),new Promise((function(t){return null===L||void 0===L?void 0:L.animateUntilCompletion(e,a.BACKWARD,{onCompletion:function(){g(),t()}})}))):Promise.resolve()}),[k,g,L,r]);return s.a.createElement("div",{className:"App"},s.a.createElement(j,{restart:{disabled:O||!L,keyStr:"r",handler:function(){z(1e3)}},speedDown:{disabled:O||!L,keyCode:l?37:void 0,handler:function(){return C(Math.max(-10,R-1))}},stepBack:{disabled:O||!L,keyCode:l?void 0:37,handler:function(){Y.current=null===L||void 0===L?void 0:L.step(a.BACKWARD)}},play:{disabled:O||!L,handler:function(){return f(!l)},keyStr:" ",status:l},reverse:{disabled:O||!L,keyStr:"`",handler:function(){var e=n===a.BACKWARD?a.FORWARD:a.BACKWARD;(null===L||void 0===L?void 0:L.hasStep(e))&&r()},status:n===a.BACKWARD},stepForward:{disabled:O||!L,keyCode:l?void 0:39,handler:function(){Y.current=null===L||void 0===L?void 0:L.step(a.FORWARD)}},speedUp:{disabled:O||!L,keyCode:l?39:void 0,handler:function(){return C(Math.min(10,R+1))}},stats:{keyStr:"s",handler:function(){return m((function(e){return!e}))}},sizeUp:{keyCode:38,handler:function(){f(!1),Y.current=void 0,w(Math.min(20,x+1))}},sizeDown:{keyCode:40,handler:function(){f(!1),Y.current=void 0,w(Math.max(3,x-1))}},unsort:{disabled:O,list:D,handler:function(e){D.includes(e)&&(f(!1),r(a.FORWARD),T(e,k,g))}},sort:{current:K,list:W,handler:function(e){if(e!==K){Y.current=void 0;var t=l;z(400).then((function(){_(e),f(t)}))}}}}),s.a.createElement(F,{stats:null===L||void 0===L?void 0:L.statistics,display:b}),s.a.createElement(v,{values:N,moveRef:Y,untracker:L}))};o.a.render(s.a.createElement(B,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.7a1e36e4.chunk.js.map