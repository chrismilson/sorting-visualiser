(this["webpackJsonpsorting-visualiser"]=this["webpackJsonpsorting-visualiser"]||[]).push([[0],{15:function(e,t,n){e.exports=n(25)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r,i,a=n(0),s=n.n(a),o=n(11),u=n.n(o),f=n(1),c=n(4),l=n(12);!function(e){e.SWAP="SWAP",e.COMPARE="COMPARE",e.MALLOC="MALLOC",e.MEMCPY="MEMCPY",e.FREE="FREE"}(r||(r={})),function(e){e.FORWARD="FORWARD",e.BACKWARD="BACKWARD"}(i||(i={}));n(20);var v,h=function(e){var t=e.values,n=e.moveRef,i=e.untracker,o=Object(a.useCallback)((function(e){e.canvas.width=e.canvas.height=t.length,e.setTransform(1,0,0,-1,0,t.length),e.fillStyle="rgb(87,163,207)";var a=Object(c.a)(t);t.forEach((function(t,n){e.fillRect(n,0,1,t)}));var s;return function o(){s=requestAnimationFrame(o);for(var u=0;u<t.length;u++)a[u]!==t[u]&&(e.clearRect(u,0,1,t.length),e.fillRect(u,0,1,t[u]),a[u]=t[u]);null===i||void 0===i||i.forEachInExtra((function(t,n,r){e.save(),e.globalAlpha=.2,e.fillStyle="purple",e.fillRect(n,0,1,r),a[n]=NaN,e.restore()})),function(){var t=n.current;if(t)switch(t.type){case r.SWAP:var i=t.i,s=t.j;e.save(),e.fillStyle="cyan",e.fillRect(i.index,0,1,s.value),e.fillRect(s.index,0,1,i.value),e.restore(),a[i.index]=a[s.index]=NaN;break;case r.COMPARE:var o=t.i,u=t.j,f=t.result,c=["lime","orange","red"];e.save(),e.fillStyle=c[1+f],e.fillRect(o.index,0,1,o.value),e.fillStyle=c[1-f],e.fillRect(u.index,0,1,u.value),e.restore(),a[o.index]=a[u.index]=NaN;break;case r.MEMCPY:var l=t.from,v=t.to,h=t.value;e.save(),e.fillStyle="gold",e.fillRect(l.index,0,1,h),e.fillRect(v.index,0,1,h),e.restore(),a[l.index]=a[v.index]=NaN}}()}(),function(){cancelAnimationFrame(s)}}),[t,n,i]),u=Object(l.a)(o);return s.a.createElement("canvas",{className:"Display",ref:u})},d=n(5),b=n(2),m=(n(21),function(e){var t=e.name,n=e.handler,r=e.disabled,i=e.keyStr,o=e.keyCode,u=e.children,f=e.className,c=Object(d.a)(e,["name","handler","disabled","keyStr","keyCode","children","className"]),l=t.replace(/^(.)/,(function(e,t){return t.toLowerCase()})).replace(/ (.)/g,(function(e,t){return t.toUpperCase()})),v=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(void 0!==i||void 0!==o){var e=function(e){var t;e.key!==i&&e.keyCode!==o||(null===(t=v.current)||void 0===t||t.click()," "===e.key&&e.preventDefault())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[v,i,o]),s.a.createElement("button",Object.assign({ref:v,className:"Button ".concat(f," ").concat(l),title:t,onClick:n,disabled:r},c),u)}),p=function(e){var t=e.Icon,n=Object(d.a)(e,["Icon"]);return s.a.createElement(m,Object.assign({},n,{className:"".concat(n.className," Icon")}),s.a.createElement(t,{className:"icon"}))},O=m,y=(n(22),function(e){var t=e.reverse,n=t.status,r=Object(d.a)(t,["status"]),i=e.restart,o=e.speedDown,u=e.stepBack,c=e.play,l=c.status,v=Object(d.a)(c,["status"]),h=e.stepForward,m=e.speedUp,y=e.sizeUp,k=e.sizeDown,j=e.algorithm,x=Object(a.useState)(!1),R=Object(f.a)(x,2),E=R[0],g=R[1],A=Object(a.useState)(!1),C=Object(f.a)(A,2),M=C[0],w=C[1];return s.a.createElement("div",{className:"Menu"},s.a.createElement(p,Object.assign({name:"restart",Icon:b.h,style:E?{transition:"transform 300ms",transform:"rotate(".concat(360,"deg)")}:{},onTransitionEnd:function(){return g(!1)}},i,{handler:function(){i.handler(),g(!0)}})),s.a.createElement(p,Object.assign({name:"speed down",Icon:b.a},o)),s.a.createElement(p,Object.assign({name:"step back",Icon:b.i},u)),s.a.createElement("div",{className:"playPauseWithReverse"},s.a.createElement(p,Object.assign({name:"play",Icon:l?b.e:b.f,style:{transition:"transform 100ms",transform:"rotate(".concat(n?180:0,"deg)")}},v)),s.a.createElement(p,Object.assign({name:"reverse",Icon:b.k},r))),s.a.createElement(p,Object.assign({name:"step forward",Icon:b.j},h)),s.a.createElement(p,Object.assign({name:"speed up",Icon:b.c},m)),s.a.createElement("div",{className:"extra ".concat(M?"show":"hide")},s.a.createElement(p,{name:"extra options",Icon:b.b,keyCode:27,handler:function(){return w(!M)}}),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"algorithms"},j.list.map((function(e){return s.a.createElement(O,{key:e,handler:function(){w(!1),j.handler(e)},name:e,className:j.current===e?"active":""},e.replace(/([A-Z])/g,(function(e,t){return" ".concat(t)})).replace(/^(.)/,(function(e,t){return t.toUpperCase()})))}))),s.a.createElement(p,Object.assign({name:"size up",Icon:b.g},y)),s.a.createElement(p,Object.assign({name:"size down",Icon:b.d},k)))))}),k=function(e){return Object(a.useMemo)((function(){for(var t=[],n=1;n<=e;n++)t.push(n);return t}),[e])},j=n(9),x=n.n(j),R=n(13),E=n(14),g=n(3),A=n(7),C=function(){function e(t,n,r){Object(g.a)(this,e),this.original=void 0,this.buffers=void 0,this.bufferIds=void 0,this.moves=void 0,this.currentMove=void 0,this.moves=t,this.buffers={0:n},this.bufferIds=new Set,this.original=r,this.currentMove=this.moves.length,this.hasNext=this.hasNext.bind(this),this.hasPrevious=this.hasPrevious.bind(this),this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.reset=this.reset.bind(this)}return Object(A.a)(e,[{key:"hasNext",value:function(){return this.currentMove<this.moves.length}},{key:"hasPrevious",value:function(){return this.currentMove>0}},{key:"next",value:function(){if(this.hasNext()){var e=this.moves[this.currentMove++];switch(e.type){case r.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=n.value,this.buffers[n.buffer][n.index]=t.value;break;case r.MALLOC:var i=e.buffer;this.bufferIds.add(i),this.buffers[i]=[];break;case r.MEMCPY:var a=e.from,s=e.to,o=this.buffers[a.buffer][a.index];this.buffers[s.buffer][s.index]=o;break;case r.FREE:var u=e.buffer;this.bufferIds.delete(u)}return e}}},{key:"previous",value:function(){if(this.hasPrevious()){var e=this.moves[--this.currentMove];switch(e.type){case r.SWAP:var t=e.i,n=e.j;this.buffers[t.buffer][t.index]=t.value,this.buffers[n.buffer][n.index]=n.value;break;case r.MALLOC:var i=e.buffer;this.bufferIds.delete(i);break;case r.MEMCPY:var a=e.to,s=a.buffer,o=a.index,u=e.original;this.buffers[s][o]=u;break;case r.FREE:var f=e.buffer;this.bufferIds.add(f)}return e}}},{key:"reset",value:function(){var e=this;this.bufferIds.forEach((function(t){delete e.buffers[t]}));for(var t=0;t<this.original.length;t++)this.buffers[0][t]=this.original[t];this.currentMove=0}},{key:"step",value:function(e){return e===i.FORWARD?this.next():this.previous()}},{key:"hasStep",value:function(e){return e===i.FORWARD?this.hasNext():this.hasPrevious()}},{key:"animateStepsPerFrame",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.onCompletion,a=r.moveRef,s=function(e){for(var r=0;r<e;r++)n.step(t)},o=a?function(){s(e-1),a.current=n.step(t)}:function(){return s(e)},u=function(){var e;return function r(){o(),n.hasStep(t)?e=requestAnimationFrame(r):i&&i()}(),function(){cancelAnimationFrame(e)}},f=function(){var r=setInterval((function(){o(),n.hasStep(t)||(clearInterval(r),i&&i())}),1/(.06*e));return function(){clearInterval(r)}};return e>=1?u():f()}},{key:"animateUntilCompletion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t===i.FORWARD?this.moves.length-this.currentMove:this.currentMove,a=r/(.06*e);return this.animateStepsPerFrame(a,t,n)}},{key:"forEachInExtra",value:function(e){var t=this;this.bufferIds.forEach((function(n){t.buffers[n].forEach((function(t,r){return e(n,r,t)}))}))}}]),e}();v=Symbol.iterator;var M=function(){function e(){Object(g.a)(this,e),this._next=1,this._inUse=new Set([])}return Object(A.a)(e,[{key:"next",value:function(){var e=this._next++;return this._inUse.add(e),e}},{key:"free",value:function(e){this._inUse.delete(e)}},{key:"inUse",value:function(e){return this._inUse.has(e)}},{key:v,value:function(){return this._inUse[Symbol.iterator]()}}]),e}(),w=function(){function e(t){Object(g.a)(this,e),this.original=void 0,this.buffers=void 0,this.bufferIdPool=void 0,this.moves=void 0,this.size=void 0,this.original=Object(c.a)(t),this.buffers={0:t},this.bufferIdPool=new M,this.size=t.length,this.moves=[],this.swap=this.swap.bind(this),this.compare=this.compare.bind(this),this.malloc=this.malloc.bind(this),this.memcpy=this.memcpy.bind(this),this.free=this.free.bind(this)}return Object(A.a)(e,[{key:"untrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.buffers[0];return new C(this.moves,e,this.original)}},{key:"swap",value:function(e,t){var n=this.normaliseIndex(e),i=this.normaliseIndex(t),a=this.buffers[n.buffer],s=this.buffers[i.buffer];a[n.index]=i.value,s[i.index]=n.value,this.moves.push({type:r.SWAP,i:n,j:i})}},{key:"compare",value:function(e,t){var n=this.normaliseIndex(e),i=this.normaliseIndex(t),a=Math.sign(n.value-i.value);return this.moves.push({type:r.COMPARE,i:n,j:i,result:a}),a}},{key:"malloc",value:function(e){var t=this.bufferIdPool.next();return this.buffers[t]=new Array(e),this.moves.push({type:r.MALLOC,size:e,buffer:t}),t}},{key:"memcpy",value:function(e,t){e=this.normaliseIndex(e),t=this.normaliseIndex(t);var n=this.buffers[e.buffer][e.index],i=this.buffers[t.buffer][t.index];this.buffers[t.buffer][t.index]=n,this.moves.push({type:r.MEMCPY,from:e,to:t,value:n,original:i})}},{key:"free",value:function(e){e>0&&(delete this.buffers[e],this.bufferIdPool.free(e),this.moves.push({type:r.FREE,buffer:e}))}},{key:"normaliseIndex",value:function(e){"number"===typeof e&&(e={buffer:0,index:e});var t=this.buffers[e.buffer][e.index];return Object(E.a)({},e,{value:t})}}]),e}(),S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(a.useMemo)((function(){var r=new w(t);e(r);var i=r.untrack();return n&&i.reset(),i}),[e,t,n])};var I=function(e,t){var n=Object(a.useState)(!0),r=Object(f.a)(n,2),i=r[0],s=r[1],o=Object(a.useCallback)((function(n){s(n===e||n!==t&&function(e){return!e})}),[e,t]);return[i?e:t,o]},W=function e(){Object(g.a)(this,e),this.pending=[],this.minGallop=7},D=function(e){for(var t=e.swap,n=e.size,r=0;r<n;r++){t(r,r+Math.floor(Math.random()*(n-r)))}},P={binaryInsertionSort:function(e){for(var t=e.compare,n=e.swap,r=e.size,i=function(e){for(var n=0,r=e;n<r;){var i=n+Math.floor((r-n)/2);t(e,i)<0?r=i:n=i+1}return n},a=1;a<r;a++)for(var s=i(a),o=a;o>s;o--)n(o,o-1)},bubbleSort:function(e){for(var t=e.swap,n=e.compare,r=e.size,i=0;i<r-1;i++)for(var a=r-1;a>i;a--)n(a,a-1)<0&&t(a,a-1)},heapSort:function(e){for(var t=e.compare,n=e.swap,r=e.size,i=function(e,r){for(var i,a,s;e<r;){if(i=e,s=2*e+2,(a=2*e+1)<r&&t(i,a)<0&&(i=a),s<r&&t(i,s)<0&&(i=s),i===e)return;n(e,i),e=i}},a=0;a<r;a++)i(r-a-1,r);for(var s=0;s<r;s++)n(0,r-s-1),i(0,r-s-1)},mergeSort:function(e){var t=e.compare,n=e.malloc,r=e.memcpy,i=e.free,a=e.size;!function e(a,s){var o=a+Math.floor((s-a)/2);a<o&&(e(a,o),e(o,s),function(e,a,s){for(var o=n(s-e),u=0,f=e,c=a;f<a&&c<s;)t(f,c)<0?r(f++,{buffer:o,index:u}):r(c++,{buffer:o,index:u}),u+=1;if(f<a)for(var l=f;l<a;l++)r(l,s-a+l);for(;u--;)r({buffer:o,index:u},e+u);i(o)}(a,o,s))}(0,a)},quickSort:function(e){var t=e.swap,n=e.compare,r=e.size;!function e(r,i){if(r<i){var a=function(e,r){for(var i=e,a=r,s=r;s>i;s--)n(i,s)<0&&t(s,a--);return t(i,a),a}(r,i);e(r,a-1),e(a+1,i)}}(0,r-1)},shellSort:function(e){for(var t=e.compare,n=e.swap,r=e.size,i=~~(r/2);i>0;){for(var a=i;a<r;a++)for(var s=a;s>=i&&t(s-i,s)>0;s-=i)n(s-i,s);i=~~(i/2)}},timsort:function(e){for(var t=e.compare,n=e.swap,r=e.malloc,i=e.memcpy,a=e.free,s=e.size,o=function(e,n){if(e===n-1)return 1;var r=e+1;if(t(e,r)<0){for(;r<n&&t(r-1,r)>0;)r++;return e-r}for(;r<n&&t(r-1,r)<0;)r++;return r-e},u=function(e,n,r){for(;e<n;){var i=e+Math.floor((n-e)/2);t(r,i)<0?n=i:e=i+1}return e},f=function(e,t){for(var r=t;r>e;r--)n(r-1,r)},c=function(e,t){for(var n=e;n<t;n++)f(u(e,n,n),n)},l=function(e,t){for(var r=Math.floor((t-e)/2),i=0;i<r;i++)n(e+i,t-i-1)},v=function(e,n,s,o){for(var u=r(n),f=0;f<n;f++)i(e+f,{buffer:u,index:f});var c=e;for(e=0;e<n&&o>0;)t({buffer:u,index:e},s)<0?i({buffer:u,index:e++},c++):(i(s++,c++),o--);for(;e<n;)i({buffer:u,index:e++},c++);a(u)},h=function(e,n,s,o){for(var u=r(o),f=0;f<o;f++)i(s+f,{buffer:u,index:f});for(var c=s+o;n>0&&o>0;)t({buffer:u,index:o-1},e+n-1)>0?i({buffer:u,index:--o},--c):i(e+--n,--c);for(;o>0;)i({buffer:u,index:--o},--c);a(u)},d=function(e,n){var r=e.pending,i=r[n].base,a=r[n].len,o=r[n+1].base,u=r[n+1].len;r[n].len=a+u,r.splice(n+1,1);var f=function(e,n,r,i){var a=n+i,o=0,u=1;if(t(a,e)<0){for(var f=s-i;u<f&&t(a+u,e)<0;)o=u,(u=1+(u<<1))<=0&&(u=f);u>f&&(u=f),o+=i,u+=i}else{for(var c=i;u<c&&t(a-u,e)>=0;)o=u,(u=1+(u<<1))<=0&&(u=c);u>c&&(u=c);var l=o;o=i-u,u=i-l}for(;o<u;){var v=o+(u-o>>1);t(n+v,e)<0?o=v+1:u=v}return u}(o,i,0,0);((a-=f)<=(u=function(e,n,r,i){var a=n+i,s=0,o=1;if(t(a,e)<0){for(var u=r-i;o<u&&t(a+o,e)<0;)s=o,(o=1+(o<<1))<=0&&(o=u);o>u&&(o=u),s=i+s,o=i+o}else{for(var f=i;o<f&&t(a-o,e)>=0;)s=o,(o=1+(o<<1))<=0&&(o=f);o>f&&(o=f);var c=s;s=i-o,o=i-c}for(;s<o;){var l=s+(o-s>>1);t(n+l,e)<0?s=l+1:o=l}return o}((i+=f)+a-1,o,u,u-1))?h:v)(i,a,o,u)},b=function(e){for(var t=e.pending;t.length>1;){var n=t.length-2;if(n>0&&t[n-1].len<=t[n].len+t[n+1].len)t[n-1].len<t[n+1].len&&(n-=1),d(e,n);else{if(!(t[n].len<=t[n+1].len))break;d(e,n)}}},m=new W,p=s,O=0,y=function(e){for(var t=0;e>=64;)t|=1&e,e>>=1;return e+t}(s);p>0;){var k=o(O,s);k<0&&l(O,O+(k*=-1)),k<y&&c(O,O+(k=Math.min(y,p))),m.pending.push({base:O,len:k}),b(m),O+=k,p-=k}!function(e){for(var t=e.pending;t.length>1;){var n=t.length-2;n>0&&t[n-1].len<t[n+1].len&&(n-=1),d(e,n)}}(m)}},F=(n(24),function(){var e=I(i.FORWARD,i.BACKWARD),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),u=Object(f.a)(o,2),l=u[0],v=u[1],d=Object(a.useState)(!1),b=Object(f.a)(d,2),m=b[0],p=b[1],O=Object(a.useState)(-4),j=Object(f.a)(O,2),E=j[0],g=j[1],A=Object(a.useState)(12),C=Object(f.a)(A,2),M=C[0],W=C[1],F=k(Math.floor(Math.pow(1.5,M))),N=S(D,F),z=Object(a.useState)("timsort"),U=Object(f.a)(z,2),B=U[0],L=U[1],K=function(e,t){var n=Object(a.useState)(),r=Object(f.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){Object(R.a)(x.a.mark((function n(){var r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new w(Object(c.a)(t)),e(r),(i=r.untrack(t)).reset(),s(i);case 5:case"end":return n.stop()}}),n)})))()}),[e,t]),i}(P[B],F),_=Object(a.useRef)();return Object(a.useEffect)((function(){_.current=void 0}),[_,m]),Object(a.useEffect)((function(){return p(!0),v(!1),r(i.FORWARD),N.reset(),N.animateUntilCompletion(2e3,i.FORWARD,{onCompletion:function(){p(!1)}})}),[N,r]),Object(a.useEffect)((function(){if(l)return null===K||void 0===K?void 0:K.animateStepsPerFrame(Math.pow(1.3,E),n,{onCompletion:function(){v(!1),r(),_.current=void 0},moveRef:_})}),[l,K,E,n,r,_]),s.a.createElement("div",{className:"App"},s.a.createElement(y,{restart:{disabled:m,keyStr:"r",handler:function(){r(i.FORWARD),v(!1),p(!0),null===K||void 0===K||K.animateUntilCompletion(1e3,i.BACKWARD,{onCompletion:function(){return p(!1)}})}},speedDown:{disabled:m,keyCode:l?37:void 0,handler:function(){return g(Math.max(-10,E-1))}},stepBack:{disabled:m,keyCode:l?void 0:37,handler:function(){_.current=null===K||void 0===K?void 0:K.step(i.BACKWARD)}},play:{disabled:m,handler:function(){return v(!l)},keyStr:" ",status:l},reverse:{disabled:m,keyStr:"`",handler:function(){var e=n===i.BACKWARD?i.FORWARD:i.BACKWARD;(null===K||void 0===K?void 0:K.hasStep(e))&&r()},status:n===i.BACKWARD},stepForward:{disabled:m,keyCode:l?void 0:39,handler:function(){_.current=null===K||void 0===K?void 0:K.step(i.FORWARD)}},speedUp:{disabled:m,keyCode:l?39:void 0,handler:function(){return g(Math.min(10,E+1))}},sizeUp:{keyCode:38,handler:function(){return W(Math.min(20,M+1))}},sizeDown:{keyCode:40,handler:function(){return W(Math.max(3,M-1))}},algorithm:{current:B,list:Object.keys(P),handler:function(e){if(e in P)if(K){p(!0),r(i.FORWARD),v(!1);var t=function(){L(e),p(!1),v(!0)};K.hasStep(i.FORWARD)?K.animateUntilCompletion(500,i.BACKWARD,{onCompletion:t}):(N.reset(),N.animateUntilCompletion(500,i.FORWARD,{onCompletion:t}))}else L(e)}}}),s.a.createElement(h,{values:F,moveRef:_,untracker:K}))});u.a.render(s.a.createElement(F,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5255caca.chunk.js.map